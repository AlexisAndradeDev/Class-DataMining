*Some formulas are not displayed correctly in GitHub's native .md visualization. It's recommended to open this .md in VSC or some other editor that displays the math correctly.*

# P7: Data Clustering

Create a model using K means and test it.

# Theory

## KNN vs K-Means

"K-nearest neighbors is a classification (regression) algorithm that, in roder to classify a point, combines the classification of the K-nearest points (hence, `K-nearest neighbors`). It's supervised because it uses the known classification of other points to classify the input point.

K-Means is a clustering algorithm that partitions a set of points into K sets (*clusters*), such that the points in each cluster tend to be near each other. It's unsupervised because the points have no external classification."

"Both use distance methods to cluster and classify inputs respectively."

[*What are the main differences between K-means and K-nearest neighbours?*](https://stats.stackexchange.com/questions/56500/what-are-the-main-differences-between-k-means-and-k-nearest-neighbours)


## K-Means Clustering

([Introduction to Statistical Learning](https://www.statlearning.com/), first edition, section 12.4.1).

K-means clustering is a simple and elegant approach for partitioning a dataset into $K$ distinct, non-overlapping clusters. To perform $K$-means clustering, we must first specify the desired number of clusters $K$; then, the K-means algorithm will assign each observation to eactly one of the $K$ clusters.

The K-means clustering procedure results from a simple and intuitive mathematical problem. We begin by definind some notation.

Let $C_1, ..., C_K$ denote sets containing the indices of the observations in each cluster. These sets satisfy two properties:

1. $C_1 \cup C_2 \cup \dots \cup C_K = {1, ..., n}$. In other words, each observation belongs to at least one of the $K$ clusters.

    > The cluster $C_k$ contains a set of data points (note $k$ is not the same as $K$; $k$ is the "index" of the cluster). The union of all the clusters contains the entire set of data points in the dataset.

2. $C_k \cap C_{k'} = \varnothing \quad \forall k \neq k'$. In other words, the clusters are non-overlapping: no observation belongs to more than one cluster.

If the $i$ th observation is in the $k$ th cluster, then $i \in C_k$. The idea behind K-means clustering is that a good clustering is one for which the *within-cluster variation* is as small as possible. The within-cluster variation for cluster $C_k$ is a measure $W(C_k)$ of the amount by which the observations within a cluster differ from each other. Hence we want to solve the problem:

$\min\limits_{C_1, \dots, C_K}{\{\sum\limits^{K}_{k=1}{W(C_k)}\}} \qquad (12.15)$

This formula says that we want to partition the observations into $K$ clusters such that the total within-cluster variation, summed over all $K$ clusters, is as small as possible.

Solving (12.15) seems like a reasonable idea, but in order to make it actionable we need to define the within-cluster variation. There are many possible ways to define this concept, but by far the most common choice involves squared Euclidean distance.

$W(C_k) = \frac{1}{|C_k|} \sum\limits_{i, i' \in C_k}{\sum\limits^{p}_{j=1}{(x_{ij} - x_{i'j})^2}} \qquad (12.16)$

Where $|C_k|$ denotes the number of observations in the $k$ th cluster. The within-cluster variation for the $k$ th cluster is the sum of all of the pairwise squared Euclidean distances between the observations in the $k$ th cluster, divided by the total number of observations in the $k$ th cluster. Combining (12.15) and (12.6) gives the optimization problem that defines:

$\min\limits_{C_1, \dots, C_K}{\{ \sum\limits^{K}_{k=1}{(\frac{1}{|C_k|} \sum\limits_{i, i' \in C_k}{\sum\limits^{p}_{j=1}{(x_{ij} - x_{i'j})^2}})} \}} \qquad (12.17)$

Now, we would like to find an algorithm to solve (12.17), that is, a method to partition the observations into $K$ clusters such that the objective of (12.17) is minimized. This is in fact a very difficult problem to solve precisely, since there are almost $K^n$ ways to partition $n$ observations into $K$ clusters. This is a huge number unless $K$ and $n$ are tiny. Fortunately, a very simple algorithm can be shown to provide a local optimum, a pretty good solution, to the $K$ means optimization problem. This approach is laid out in [Algorithm 12.2](#k-means-algorithm-122).

## K-Means algorithm (12.2)

*Algorithm 12.2 from Introduction to Statistical Learning*.

1. Randomly assign a number, from $1$ to $K$, to each of the observations. These serve as initial cluster assignments for the observations.

2. Iterate until the cluster assignments stop changing:
    
    (a) For each of the $K$ clusters, compute the cluster centroid. The $k$ th cluster centroid is the vector of the $p$ feature means for the observations in the $k$ th cluster.

    For the $k$ th cluster, take all the observations assigned to it. Every observation is a vector with $p$ features (e.g., height, age, etc.). You calculate the mean of each feature separately, but only for the observations in the $k$ th cluster. This way, you get a new vector with $p$ features: each element of the vector is the mean of a feature in the $k$ th cluster. This vector is the centroid of the cluster.

    (b) Assign each observation to the cluster whose centroid is closest (where *closest* is defined using Euclidean distance).

This algorithm is guaranteed to decrease the value of the objective at each step. To understand why, the following identity is illuminating:

$\frac{1}{|C_k|} \sum\limits_{i,i' \in C_k} \sum\limits^{p}_{j=1}{(x_{ij} - \bar x_{i'j})^2} = 2 \sum\limits_{i \in C_k} \sum\limits^{p}_{j=1}{(x_{ij} - \bar x_{kj})^2} \qquad (12.18)$

where $\bar x_{kj} = \frac{1}{|C_k|} \sum\limits_{i \in C_k}{x_{ij}}$ is the mean for feature $j$ in cluster $C_k$. In step 2.a, the cluster means for each feature are the constants that minimize the sum-of-squared deviations, and in step 2.b, reallocating the observations can only improve (12.18). This means that as the algorithm is run, the clustering obtained will continually improve until the result no longer changes; the objective of (12.17) will never increase. When the result no longer changes, a *local optimum* has been reached. K-means clustering derives its name from the fact that in step 2.a, the cluster centroids are computed as the mean of the observations assigned to each cluster.

Because the $K$-means algorithm finds a local rather a global optimum, the results obtained will depend on the initial (random) cluster assignment of each observation in step 1 of Algorithm 12.2. For this reason, it's important to run the algorithm multiple times from different random initial configurations. Then one selects the best solution, i.e. that for which the objective (12.17) is smallest.

To perform $K$-means clustering, we must decide how many clusters we expect in the data. The problem of selecting $K$ is far from simple. This issue, along with other practical considerations that arise in performing $K$-means clustering, is addressed in Section 12.4.3 of *Introduction to Statistical Learning*, [Practical Issues in Clustering](#pratical-issues-in-clustering).

## Alternatives to K-means

### Hierarchical Clustering

One potential disadvantage of $K$-means clustering is that it requires us to pre-specify the number of clusters $K$. *Hierarchical clustering* is an alternative approach which does not require that we commit to a particular choice of $K$. Hierarchical clustering has an added advantage over $K$-means clustering in that it results in an attractive tree-based representation of the observations, called a *dendogram*.

## Pratical Issues in Clustering

Clustering can be a very useful tool for data analysis in the unsupervised setting. However, there are a number of issues that arise in performing clustering.

### Small decisions with big consequences

In order to perform clustering, some decisions must be made.

* Should the observations or features first be standardized in some way? For instance, maybe the variables should be scaled to have standard deviation one.
* In the case of hierarchical clustering,
    - What dissimilarity measure should be used?
    - What type of linkage should be used?
    - Where should we cut the dendogram in order to obtain clusters?
* In the case of $K$-means clustering, how many clusters should we look for in the data?

Each of these decisions can have a strong impact on the results obtained. In practice, we try several different choices, and look for the one with the most useful or interpretable solution. With these methods, there is no single right answer, any solution that exposes some interesting aspects of the data should be considered.

> While reading the previous paragraph, I thought, is "try several different choices, and look for the one with the most useful or interpretable solution" cherry-picking results? I don't have an answer for this at the moment, but I will definitely read more about this. Having an unbiased and not-hacked result is one of my main concerns.

> This is addressed in [Validating the clusters obtained](#validating-the-clusters-obtained)

### Validating the clusters obtained

Any time clustering is performed on a data set we will find clusters. But we really want to know whether the clusters that have been found represent true subgroups in the data, or whether they are simply a result of *clustering the noise* (*this section addresses the thought I mentioned in the previous section*). For instance, if we were to obtain an independent set of observations, then would those observations also display the same set of clusters? This is a hard question to answer. There exist a number of techniques for assigning a p-value to a cluster in order to assess whether there is more evidence for the cluster than one would expect due to chance. However, there has been no consensus on a single best approach. More details can be found in [*Elements of Statistical Learning*](https://hastie.su.domains/ElemStatLearn/).

In addition, clustering methods generally are not very robust to perturbations to the data. For instance, suppose that we cluster $n$ observations, and then cluster the observations again after removing a subset of the $n$ observations at random. One would hope that the two sets of clusters obtained would be quitesimilar, but often this is not the case.

### A tempered approach to interpreting the results of clustering

We have described some of the issues associated with clustering. However, clustering can be a very useful and valid statistical tool if used properly. We mentioned that small decisions in how clustering is performed, such as how the data are standardized and what type of linkage is used, can have a large effect on the results. Therefore, it's recommended to perform clustering with different choices of these parameters, and looking at the full set of results in roder to see what patterns consistently emerge. Since clustering can be non-robust, it's recommended to cluster subsets of the data in order to get a sense of the robustness of the clusters obtained. Most importantly, **we must be careful about how the results of a clustering analysis are reported**. **These results should not be taken as the absolute truth about a data set**. Rather, **they should constitute a starting point for the development of a scientific hypothesis and further study, preferably on an independent data set**.

# Practice

## Objective

The goal of this practice is to discover natural subgroups of reviews using K-means clustering on two numerical features:
* **Sentiment** (as measured by VADER on the review text)
* **Review length** (number of characters)

This exploration aims to provide insights into the underlying structure of the data: do distinct types of reviews emerge based on these two features?

## Methodology

* **Dataset:** Filtered Amazon Fine Food Reviews with at least 10 votes (`HelpfulnessDenominator >= 10`).
* **Sample:** 3,000 randomly sampled reviews.
* **Features:**
  - `Sentiment`: VADER compound sentiment score (from -1 to 1)
  - `ReviewLength`: Length of the review text (chars)
* **Clustering algorithm:** K-means (`k = 7`), repeated for 5 different random seeds.
* **Metrics calculated:**
  - **Silhouette coefficient** (cluster separability & compactness)
  - **Within-cluster variation** ([ISLR 12.17](#k-means-clustering); measures cluster cohesion)
  - **Cluster-wise means** for sentiment, length, and score of each cluster

After 5 runs, the clustering run with the highest silhouette score was selected for interpretation.

## Clustering Results

### Selection & Key Metrics

* **Best run:** 3rd run
* **Silhouette score:** 0.5792 (moderately well-separated, good quality for real-world text data)
* **Total within-cluster variation ([ISLR 12.17](#k-means-clustering)):** 2500879.97 (lower is better; see individual cluster breakdown below)

### Cluster Summaries

> For each cluster: two sample reviews, mean sentiment, mean length, mean product score, and size.

#### **Cluster 0**
* **Mean sentiment:** 0.70
* **Mean length:** 1255.9
* **Mean Score:** 3.81
* **Size:** 420
* **Example reviews:**
    > "I began using Xylitol as a replacement for sugar about two months ago. ... Xylitol is as sweet as sugar, and has a vastly different impact on your blood chemistry. ... If you are on a low-carb lifestyle, Xylitol fits right in. ... Xylitol can give you the runs, and gas. Once you are fully adjusted (takes a couple of weeks), then you will be fine. ..."
    >
    > "There are two mainstream commercial sources of Xylitol - Corn and Hardwood trees such as Birch. ... The process utilized in making birch based Xylitol is envirnmentally green and sustainable ... So is Birch better than corn? You be the judge ..."

* **Interpretation:**
  *Generally positive, well-articulated reviews with moderate star ratings. Focuses on detailed product experience.*

#### **Cluster 1**
* **Mean sentiment:** -0.00
* **Mean length:** 9524.5
* **Mean Score:** 3.50
* **Size:** 2
* **Example reviews:**
    > Hallelujah!!!  The wicked mole is dead.<br /><br />For 2 years I have hunted this critter.  I have read the entire internet.  2 years of research led me here.<br /><br />For those of you with mole problems, let me save you some time.  Forget everything you think you know.  The only way to deal with moles is to kill them.  The only way to kill them is to trap them.  Baits don\'t work.  Treating for grubs don\'t work.  Moles primarily feed on worms, not grubs.  Sonic vibration thingys don\'t work.  These traps work.<br /><br />BUT...<br /><br />Don\'t follow the directions on the package.  I will do my best to explain how to employ this product.<br /><br />First of all, if you have to, stamp down all mole runs in your yard.  Ordinarily, you don\'t want to do this, because it just encourages the mole to dig new runs, thus doing more damage.  But you need a current picture of where the mole is active in your yard.<br /><br />The next day after you have stamped down all the runs, observe any new runs.  You are looking for long straight runs.  Long straight runs are like mole highways.  The curvy short runs are hunting roads.  The curvy runs are less traveled.  Hunt the highways.<br /><br />Open the trap and set the safety catch.  Set the trap down next to the run where you want to place it.  Take your foot, and stamp down the mole run just where you want to place the trap.  Should only be about your foot\'s width.  Don\'t push down hard.  You want the ground you stamp down to be level with the rest of the yard.<br /><br />Now take a straight blade shovel and create a notch on either side where the trap blades will go.  You don\'t have to go real deep.  Just a couple inches.  Wiggle the shovel if you have to, to create those "pockets" for the blades of the trap to go into.<br /><br />Carefully place the trap into the notches or pockets you just created until the trigger of the trap is level to the ground.<br /><br />Unhook the safety.<br /><br />It took me 3 days to catch my mole once I set my trap this way.  I moved it once after the first day because I wasn\'t happy about the run I had originally placed it. If you don\'t catch your mole after 3 days, then look for a better spot.<br /><br />Warning!!  If you go out to check your trap, bring a shovel and wear shoes.  When I got mine, he wasn\'t dead.  The trap had just got him in the back and he wasn\'t going anywhere, but he was alive.  So when you pull up your trap, go slow and be gentle.  You don\'t want to accidentally release him.  Be ready to whack him with the shovel.<br /><br />For 2 years this mole has terrorized my yard.  I was at my wits end.  My yard is destroyed.  Let the healing begin thanks to this product.  Now kill some moles!!<br /><br />EDIT 3-24-09: I just wanted to give everyone an update.  I got my third mole last night using these traps.  Add that to the 3 my parents have killed, our family alone is responsible for killing at least a basketball team of moles.  If anyone has any questions about how to kill moles, post or email me, and I am positive we can kill your mole too.<br /><br />EDIT 3-16-10:  I\'ve been reading some other reviews here and I wanted to clear up some misconceptions and misunderstandings.<br /><br />First, if it looks like the moles are going around your trap, the most likely cause is that the trap is set too deep.  That ties to another reviewer who said they set the trap with the trigger at grass level.  That would be too shallow.  Before you set the trap, tamp down the run to GROUND level (not grass level).  When you cut the notches for the trap blades, and place the trap in the ground, the trigger should lay even with the rest of the ground.<br /><br />Second, while true that moles will eat grubs, their primary food source are worms.  Worms are usually more plentiful, and they move through the ground, thus making them easier to find for a hungry mole.  Grubs are more stationary.  A mole will eat them, but it requires more luck to find them.<br /><br />Third, if you don\'t get a mole in the first day, don\'t panic.  Give it a few days. Remember, the best place to put the traps are in the long straight runs. Those are the mole highways.  Just because it\'s a highway though, doesn\'t mean your mole will use that highway every day.  Give it some time.  It\'s not necessary to move your traps too often.  Even if your mole seems to be active in another area of your yard, if you picked a good spot to place your trap, he will come back and use his highway again.<br /><br />Fourth, moles are territorial.  There may be some overlap, but it\'s minimal.  HOWEVER, keep this in mind.  Just like you, moles prefer to travel along pre-dug roads.  You don\'t build a new road every time you want to go to the grocery store.  Moles don\'t like to either.  So, even if you kill your mole, it is VERY likely that another mole will move into your yard.  Keep in mind also, that the runs you see at ground level, are only a fraction of the amount of tunnels that might be running through your yard.  Moles don\'t hibernate.  They follow the worms in the winter, and worms dig in deeper during the winter.  For a mole to survive the winter, that mole has a whole labyrinth of tunnels deep under ground.  Easy pickings for another mole looking to move into your yard.<br /><br />EDIT 4-29-10:  Taught my boss how to use these traps and he got his first mole this weekend.  The moles in St. Louis are having a bad day!<br /><br />EDIT 5-28-10:  Got another one last night.  I\'ve had a mole kicking around the area for the last few months and just couldn\'t get a good run to trap.  Finally, the idiot moved into another area of the yard, and to do that he had to make a couple long straight runs to get there.  Well,  that was his last mistake.  I had the traps in the ground less than 12 hours.  I woke up this morning to dead mole.  There really is nothing better with your Corn Flakes than dead mole.<br /><br />EDIT 7-22-10:  So about a week after I killed my last mole in May I got another one destroying my yard.  Took me 2 months, but that mole is now dead.  What a wonderful thing heavy rain is.  When it rains, it brings the worms up, and the moles are soon to follow.  Right into the waiting arms of the sharp teeth of my mole trap.<br /><br />EDIT 9-9-10:  Pics are up!  If anyone has any suggestions or questions about the pics, just leave a comment and I\'ll see what I can do.<br /><br />EDIT 9-10-10:  Less than 12 hours later, I\'m the proud parent of a dead mole.  I kill more moles before 9am than most people do all day.<br /><br />EDIT 9-30-10:  Posted 3 pics that show how to prep the trap itself before setting it.  I also tried to label some components just so if there are questions in the future, we all have a reference for terminology.  I\'m sure my verbage isn\'t right, but as long as we all understand the different parts, that\'s all that matters.<br /><br />EDIT 10-22-10:  There have been a number of commenters and reviewers that have asked about sandy/loose soil.  We haven\'t been able to give a very good answer because I don\'t have any experience in that kind of condition.  Another reviewer does though, and he did a really good job of explaining his technique.  The following is a link to his comments.  Thanks Bjay25.<br /><br />[...]<br /><br />So it looks like Amazon won\'t hyper link in reviews, but just copy that link and paste it into another tab on your browser and that will take you right to Bjay25\'s comments.  That should be real helpful for people in the south that are dealing with sandy soil.<br /><br />EDIT 1-25-11:  Doesn\'t everyone hunt moles in the dead of winter?  I got my first winter mole last night.  I have all but moved in with my girlfriend, and after taking care of her yard last summer, we started noticing some mole activity.  Mostly in a flower bed, which is a tough place to trap.  I kept waiting for a good run to trap, but never got one.  Then winter came, and I kind of forgot about it.  I figured I\'d get him next spring.  So then I was out taking down xmas lights, and the yard was TORE UP!  I tried stomping down runs, and was hoping I would get a highway to trap, but couldn\'t get a good one.  I finally got fed up, set a few traps and stomped down all the other runs.  About a week ago, it snowed pretty good here.  So the traps have been covered.  Yesterday was warmish, and the snow started to melt.  That allowed the traps to peek above the snow, and sure enough, the trap was sprung. I figured a kid prolly kicked it.  When I pulled it up, there he was.  In the middle of winter, on a day when we got freezing rain in the morning, I got a winter mole.  Remember, moles don\'t hibernate.  Usually they are deeper, to avoid the cold during the winter, but this one must have been desperate.  Maybe he thought he was safe since there was snow on the ground.  Wrongo buddy!<br /><br />EDIT 6-9-11:  This year is the hatch of the 13 year cicadas in St. Louis.  What does that have to do with moles?  Well, the cicada larvae emerge from the ground to mutate and mate.  What are they while they are in the ground and preparing to emerge?  They are mole food is what they are.  I\'ve read a few articles now about the effects of cicadas on the ecosystem, and one thing that is consistent is that up to 2 years before a cicada emergence, mole activity is increased.  On the other hand, you can expect to see decreased mole activity after they emerge.  So, that might explain why so many in our area have been having mole issues.  Hopefully after the stupid cicadas are gone, some of the moles will go with them.<br /><br />EDIT 5-3-12:  I would love to talk to the 3 people who didn\'t find this review helpful.  I\'m not gonna dwell on it, but I\'m just sayin...

* **Interpretation:**
  *Outlier cluster: has extremely lengthy, mixed-sentiment "essay" style reviews. Contains reviews with deep dives into technical/product details. Very small cluster (2 data points); the main difference is text length.*

#### **Cluster 2**
* **Mean sentiment:** 0.78
* **Mean length:** 2072.8
* **Mean Score:** 3.92
* **Size:** 211
* **Example reviews:**
    > "The folks in the United Kingdom drink more PG Tips tea than any other brand, and perhaps after you try it; it will be your #1 choice, too!  (By the way, the folks in Ireland drink more tea per person than in any other country.)<br /><br />PG Tips Tea and PG Tips Special Blend Tea is our home\'s standard tea.  There are a few specialty retailers in the USA that now offer the PG Tips Special Blend Tea and hopefully Amazon will do so soon.<br /><br />In the 1930s (the pre-digestive era in history) this tea was introduced by the name "Pre-Gest-Tee" suggesting the tea could be consumed before food was eaten, but it was the grocers who gave it the abbreviation of "PG" - and the company added "tips" (since the company uses only the best part of the tea plant, the two top leaves and bud of the tea plant to make the tea).<br /><br />Many black teas sold in the USA are graded the basic medium grade Orange Pekoe (generally the tea leaves below the top two and bud), which is one of the reasons PG Tips gets higher reviews than most other teas.  PG Tips also uses their pyramid tea bag that allows ample room for the tea to expand as it is infused.  Additionally, in my opinion, PG Tips blends only two blends, rather than blending a wide assortment, thus becoming really good at what they do.<br /><br />Here at Amazon PG Tips is priced at just over a nickel a tea bag (a good value for an imported product) when you order the 240 count boxes in a set of two, and even less expensive in the higher volumes.  PG Tips makes wonderful ice tea too, and that\'s good news since Americans drink about 80% of their tea as iced tea and only 20% as hot tea.  Worldwide more hot tea is consumed than iced tea, and worldwide tea is the most consumed beverage (next to water), while in the USA it is the sixth most consumed beverage (next to water).<br /><br />A very good question to ponder is "Why this is?"<br /><br />Drinking an adequate amount of tea daily is now being considered to be very good for one\'s health, and it is much more enjoyable to drink a really good cuppa (cup of tea), especially at the nominal cost of about a nickel a cup when compared to one of those gourmet coffee places who charge upwards of four to five dollars for a large cup of coffee.<br /><br />When we have a guest in our home we always offer them a PG Tips cuppa, and they always say they have never tasted a tea this good - thus, I rate it 5 stars for its quality and very nominal price!"
    >
    > "I\'m not a real homemaker, but I play one in my kitchen.<br /><br />I\'ve helped the Mrs. can things in the past, but my involvement was pitting, coring, and dumping out really big pots of boiling water. My wife canned the way that worked for her, packets of SureJell and lots and lots of sugar. We have been progressively reducing our families sugar consumption. As summer rolled in and fresh strawberries ripened, I sallied forth and picked 75# of them. (Yes, I know. Nobody needs that much jam. I dried a bunch). I had read that Pomona\'s worked with low-sugar recipes so I bought some.<br /><br />In the middle of my first batch of strawberry jam, my wife observed the small amount of sugar I was using and told me flat out that my jam wasn\'t going to set. She had tried SureJell\'s "Low or No Sugar" with poor results. She hadn\'t noticed my box of Pomona\'s. I thanked her for her opinion, and continued on my merry way.<br /><br />After my first two batches set perfectly, she paid more attention and discovered my secret. Pomona\'s. I have since made low sugar versions of raspberry, blueberry, and blackberry jams and all have set perfectly. I could scarcely be more pleased.<br /><br />Next to being being able to get a good set with low sugar recipes, my favorite feature of Pomona\'s is that I can make HUGE batches. Instead of working in small batches, as some other unnamed pectin requires, I was able to make an enormous batch of jam with 3 boxes worth of Pomona\'s. Again, I was advised it would not work, but every single jar came out perfectly. Pomona\'s has a special place in my pantry.<br /><br />Once I knew to look for Pomona\'s, I have seen it in most grocery stores. It tends to cost more than SureJell but since the yield is higher per box, it\'s actually a better value. And the best value is in the 6 pack right here on Amazon."

* **Interpretation:**
  *Very positive, verbose reviews (often 5 stars), often "stories" or testimonials, sometimes about kitchen products or food traditions.*

#### **Cluster 3**
* **Mean sentiment:** 0.42
* **Mean length:** 277.2
* **Mean Score:** 3.24
* **Size:** 1,425
* **Example reviews:**
    > "before you buy coffee filters do your research. what chemicals do they use when making the paper? what glues do they use to hold the paper together? if you care rates superior in all categories in my book. if you don't care go ahead and drink something that is just been soaking in hundred degree water with acidic coffee. I think that's crazy if you're a health-conscious long-term coffee drinker. also drink organic coffee with fair trade certification"
    >
    > "The Peter Pan Peanut Butter I ordered was right on the money!  I received my order even sooner than I had expected, and it was packaged very well.  Thank you Amazon.com"

* **Interpretation:**
  *By far the most common review segment: average-to-positive sentiment, concise, moderately rated reviews typical of most online platforms.*

#### **Cluster 4**
* **Mean sentiment:** 0.99
* **Mean length:** 6649.4
* **Mean Score:** 4.32
* **Size:** 19
* **Example reviews:**
    > "I've tried pretty much all the no calorie and low calorie sugar substitutes available. None of them are perfect. Don't expect anything to taste exactly like sugar except sugar because there is nothing that tastes exactly like sugar except for sugar. That is a fact. The human taste buds, especially in certain individuals, are extremely sensitive to the various flavors each sweetener provides. Often sweeteners are compared to sugar, but in reality high calorie sugar substitutes like fructose even taste different from sugar. So please stop comparing other sweeteners to sugar, because only sugar tastes exactly like sugar, and attempting to find a sweetener with a different molecular structure that tastes exactly like sugar is impossible because the human taste buds can sense even the slightest difference in the molecular structure of the sweetener.<br /><br />Now with that said, there are today available many sweeteners each with their own positive and negative attributes. The number one sweetener in the world is sugar, and most people find sugar to be the best tasting sweetener. That's why it's number one. The low calorie alternatives include both natural sweeteners (erythritol, stevia, xylitol, lo han, etc.) and man-made sweeteners (nutrasweet, saccharine, splenda, etc.).<br /><br />This product is a mix of the three natural sweeteners erythritol, isomaltulose, and reb A (a sweetener extracted from stevia), as well as natural flavors to make the taste more like sugar.<br /><br />Erythritol is a great all natural low calorie sweetener on it's own, but it lacks depth, and imparts sort of a watery sweetness unless mixed with other sweeteners. It goes very well with stevia, and is commonly found mixed with stevia based sweeteners, as is the case in this product. The combination greatly enriches the sweetness of each of the two distinct sweeteners.<br /><br />Stevia normally contains stevioside, reb A (rebaudioside A), reb C (rebaudioside C), and dulcoside A. Of these, reb A is the most desirable, sweetest, and lacks the bitterness of the others. Most high quality stevia products contain mostly reb A. Reb A on it's own has a shallow but pleasant sweetness. It's a sharp sweetness and goes very well with other sweeteners that help broaden it's sweetness such as xylitol, erythritol, sugar, lo han, etc. The fact that PureVia only uses reb A from stevia means that it has none of the bitter aftertaste of some of the other popular stevia products available.<br /><br />Isomaltulose is a full calorie sweetener very similar to sugar but like erythritol and reb A it does not promote tooth decay. It's presence helps to give PureVia a richer full bodied sweetness.<br /><br />Ok, so those are the facts, but how does it actually stand up against the other sweeteners available? The taste is excellent. Most of the people I know who've tried it like it a lot. It has a flavor very similar to sugar, but like all other sweeteners out there, it has its own unique flavor. There is no bitter aftertaste or unnatural chemical taste present. It's sweetness is full bodied, not thin or watery. The manufacturers did a fantastic job of mixing the various sweeteners together to produce a rich full bodied sweetness. It has none of the drawbacks of most common stevia products (a thin flavor, bitter aftertaste), none of the drawbacks of erythritol (watery sweetness), and to top it off its all natural. What natural flavors are added are of course a trade secret, and these are partially responsible for PureVia's flavor being very similar to sugar.<br /><br />PureVia is simply one of the best sugar substitutes you can buy. There are a few others that are as good (such as NuStevia and Truvia), but each one has its own unique flavor. Not everyone is going to agree on which one is the best tasting because each person has their own taste preferences.<br /><br />I really like PureVia's individual tube packets better than those of most other products. They are easier to use. They are tubes rather than flat envelopes. This makes it much easier to dispense.<br /><br />One bit of advice, if you're very picky about a full bodied sweetness, no matter which sweetener you prefer, using more than one sweetener nearly always improves the flavor profile. For example, a mix of splenda, nutrasweet, and saccharine will give a more full bodied flavor than each one can alone. The same is true for the natural sweeteners. Sugar and fructose together give a richer taste when combined together. Stevia and lo han give a richer taste when combined together. In general, the more sweeteners you combine, the richer the taste. You can get a sweetness that is better than sugar alone by mixing different sweeteners together. Also keep in mind that natural low calorie sweeteners like stevia and lo han vary dramatically from one brand to another, with the more refined ones generally being the most expensive and best tasting.<br /><br />A combination I often use is saccharine mixed with a stevia based sweetener (such as PureVia, NuStevia, Sun Crystals, etc.). Saccharin was once thought to cause cancer in humans, but this is no longer believed to be true. Recent tests show it to be one of the safest manmade sugar substitutes available (far better for you than Splenda or Nutrasweet) and it is VERY CHEAP. I use a little bit, just enough to give the other sweetener a richer flavor. Saccharine has an off flavor that's unpleasant if too much is added, so I only add it as a booster. The other low calorie sweetener I'll sometimes add is all natural lo han (such as Lo Han Sweet, Sweet Sensation Natural Luo Han Guo Syrup, etc.). Lo han has a very unique taste, almost like brown sugar or honey. It's rather pricey so I'll use just a little bit. It greatly enhances the sweetness of other sweeteners. I avoid using splenda and nutrasweet because they are obviously very unhealthy. Splenda gives me stomach pains, and nutrasweet makes me feel drugged (driving on a nutrasweet drugged brain is dangerous), so I avoid those like the plague.<br /><br />Give this product a try. Only you will know if YOU like it or not. It is one of the best stevia based products you can buy. Because it uses only reb A from stevia, it doesn't have the infamous bitter taste of many other stevia products. Similar stevia based products with the same quality include NuStevia and Truvia. Sun Crystals is another new stevia based product that I like. It's stevia mixed with sugar, but the stevia extract is not pure reb A and therefore it has a slight aftertaste like Sweetleaf has, but I like it nonetheless.<br /><br />People who like stevia in general are likely going to love this product. People who've tried bad quality stevia in the past and were put off by the bitterness of a poor quality stevia product should give this product a shot. It's not truly a stevia product, because it only contains reb A, and none of the other sweeteners and compounds found in stevia that impart a bitter aftertaste. Reb A is a very decent sweetener, much better than the other sweeteners found in stevia. Most stevia products contain a mix of all the sweeteners found in stevia, plus other compounds present, which impart a bitter taste. Reb A is an isolated sweetener which doesn't taste the same as a full stevia extract. Much like how sugar doesn't taste like sugar cane or brown sugar. Pure reb A is more expensive than a common stevia extract, and so expect to pay a little more for it. The flavor of reb A is a lot better than a normal stevia extract, it's sort of like thin tasting sugar. Because PureVia contains two other sweeteners, and natural flavors, the taste is far better than reb A is alone. I really have to hand it to the manufacturers. They did a great job."
    >
    > "I haven\'t even tried this stuff yet, but with the first ingredient being salt, the second being MSG, then finally the third being dried bonito powder, then the next sugar, then dextrose(more sugar)...then some chemicals(disodium inosinate, disodium succinate), which sound like more salt or preservatives, or both...WTF? None of the other reviews even mention this marvelous combination of lousy ingredients...kinda stupid. If I\'d wanted 3 packets of sugar, salt, and flavor enhancers....I\'d have ordered salty/sugared MSG soup base.<br /><br />UPDATE: I did some research and I thought this was interesting, and since this product, and the topic of MSG seems to be so bantered about, maybe this will be interesting to someone else.<br /><br />The food additive, monosodium glutamate, was first used in the United States in any quantity in the late 1940s. According to Dr. George Schwartz, author of In Bad Taste: The MSG Syndrome, although considerable effort had been spent to introduce MSG to the USA, little had been accomplished prior to World War II. However, sometime during the war, the use of MSG in Japanese soldiers\' rations was noticed. In 1948, a symposium on MSG, presided over by the Chief Quartermaster of the Armed Forces, was held in Chicago for members of the food industry.<br />By the 1960s, Accent, the leading brand of the flavor enhancer called "monosodium glutamate," had become a household word. Simultaneously, other hydrolyzed protein products such as autolyzed yeast, sodium caseinate, and hydrolyzed vegetable protein gained in popularity. Every hydrolyzed protein product, regardless of the name given to it on a label, contains MSG.<br />Although glutamic acid had been isolated in 1866 by the German chemist Karl Ritthausen, it was not until 1908 that its flavor-enhancing potential was noticed by Kikunae Ikeda of Tokyo, Japan. Prior to that time, the Japanese had used seaweed as a favorite flavor enhancer, without understanding that glutamic acid was its flavor-enhancing component.<br />From 1910 until 1956, the process underlying production of glutamic acid and "monosodium glutamate" in Japan was one of extraction, a slow and costly method. Elsewhere, crude gluten or other starting materials were hydrolyzed by heating with hydrochloric acid. In 1956, the Japanese succeeded in producing glutamic acid by means of fermentation; and after considerable research to identify suitable strains of microorganisms for starting the requisite cultures, large-scale production of glutamic acid and "monosodium glutamate" through fermentation began.<br />Even before the Japanese discovered the flavor potential of processed free glutamic acid extracted from sea weed, the potential of freeing glutamic acid from protein using acid hydrolysis was being explored in Europe. At the time, however, the method was not widely used. Indeed, it was not until some time later that the flavor industry realized that various of their hydrolyzed protein products contained considerable amounts of processed free glutamic acid (MSG) -- the flavor-enhancing component of the food ingredient "monosodium glutamate" -- and production of hydrolyzed protein products for their flavor-enhancing potential escalated.<br />When "monosodium glutamate" was brought to the United States in the years following World War II it was still manufactured through extraction. By 1956, after considerable research to identify suitable strains of microorganisms for starting the requisite cultures, Ajinomoto Co., Inc. had succeeded in producing glutamic acid through a method of bacterial fermentation wherein bacteria (some, if not all of which are genetically modified)(10) are grown aerobically in a liquid nutrient medium. These bacteria have the ability to synthesize glutamic acid outside of their cell membranes and excrete it into the medium to accumulate there.(11) It was in 1956 that truly large-scale production of glutamic acid and "monosodium glutamate" through fermentation began.<br />We find it fascinating that the first published report of a reaction to "monosodium glutamate" did not appear until "monosodium glutamate" was being made by bacterial fermentation. The first published report of a reaction to "monosodium glutamate" appeared in 1968 when Robert Ho Man Kwok, M.D., who had emigrated from China, reported that although he never had the problem in China, about 20 minutes into a meal at certain Chinese restaurants, he suffered numbness, tingling, and tightness of the chest that lasted for approximately 2 hours.<br />The following year, John W. Olney, M.D. reported that laboratory animals suffered brain lesions and neuroendocrine disorders after being exposed to monosodium glutamate. Scientists studying retinal degeneration in mice treated with free glutamic acid had noted that these mice became grotesquely obese. Olney, who speculated that the obesity might be a sign of damage to the hypothalamus (the area of the brain that regulates a number of endocrine functions, including weight control), found that infant laboratory animals given free glutamic acid suffered brain damage immediately, and assorted neuroendocrine disorders later in life. Pharmaceutical grade L-glutamic acid was often used to produce these disorders until neuroscientists observed that monosodium glutamate, an inexpensive food additive, could be substituted for laboratory-grade free glutamic acid in these studies and produce the same effects.<br />In the years that followed, neuroscientists replicated the work of Olney, and Olney spoke out repeatedly about the toxic potential of monosodium glutamate. In 1972, for example, Olney testified before the Senate Select Committee on Nutrition and Human Needs that ingestion of MSG places humans at risk, with the greatest risk being for the very young; and that a National Academy of Science panel organized to determine whether MSG ought to be banned from baby food had produced an "industry arranged whitewash" by a group of scientists with almost no experience in neuropathology. In the early 1970s, manufacturers of baby food voluntarily removed the monosodium glutamate from their products, but replaced the monosodium glutamate with MSG-containing ingredients such as autolyzed yeast and hydrolyzed vegetable protein. In the late 1970s, manufacturers "voluntarily" removed all obvious MSG-containing ingredients from baby food.<br />Use of MSG in food has grown in the last 30 years and is still growing. MSG is found in most soups, salad dressings, processed meats, frozen entrees, ice cream, and frozen yogurt, in some crackers, bread, canned tuna, and very often in "low fat" and "no fat" foods to make up for flavor lost when fat is reduced or eliminated. It can be found in cosmetics, pharmaceuticals, and dietary supplements. It is found in enteral feeding products and in infant formula. It is found in vaccines -- including vaccines used on children. It is found in hospitals where it is hidden in the jello, chicken soup, and some IV solutions given to very sick patients.<br />Very often manufacturers use hydrolyzed protein products as MSG-containing flavor enhancers instead of using "monosodium glutamate." In the industry, an ingredient that contains MSG but is not necessarily recognized by consumers as containing MSG is called a "clean label" ingredient."

* **Interpretation:**
  *Rare but interesting: highly positive "essay" (long) reviews, from enthusiasts of the product or the category of the product.*

#### **Cluster 5**
* **Mean sentiment:** 0.88
* **Mean length:** 3796.9
* **Mean Score:** 3.71
* **Size:** 55
* **Example reviews:**
    > "I live in an area in Minnesota where mosquitoes are numerous and extremely bothersome.  Since we have relatively short summers, I look forward to the summer season to enjoy the outdoors, but mosquitoes will literally ruin the summer season if not treated.  In addition, mosquitoes carry West Nile Disease, and a dear friend several houses away contracted this disease while working in his yard.  He was severely ill for months, and was lucky to survive.  To protect my family, I decided to take my yard back from the blood-sucking, disease-carrying demoms.  I first tried one of the mosquitoe magnet devices, <a href="http://www.amazon.com/gp/product/B000094YKM">Mosquito Magnet MM4000 Defender Mosquito Trap</a>,but despite its great hype (and price!), it did not eliminated the biting tormentors.  I then sprayed the yard with an application of Cutter Bug-Free Backyard.  The results were stunning!  For the first time in many summer seasons, the yard was virtually free of mosquitoes. I have been using this product ever since, and am quite satisfied with it.  For me it works better than any other product I\'ve tried.  The best feature of this product is that it both kills and then repells mosquitoes and bugs.  I have found that it lasts about 3 weeks maximum, and that is dependent on the weather.  If it rains hard after applying the repellent, I know I will have to reapply the chemical to the yard.  A light rain does not seem to affect the repellant quality. Although Cutter advertizes an 8-week mosquito-free period, this is entirely inaccurate; the product must be applied every 2-3 weeks for effective mosquito control<br /><br />The active ingredient is Permethrin.  Permethrin is extremely toxic to fish and aquatic life, so if you have a backyard pond, avoid spraying this area.  It is also highly toxic to cats, since they lick their fur and ingest the toxin.  Cutter warns to keep all pets off the lawn until the application is completely dry.  Spray the yard from the outside perimeter in.  You don\'t want to get the chemical on your feet, as it will cause a tingling sensation (it is a neurotoxin and is classified as a "likely" carcinogen.  There is also a link to Parkinson\'s disease).  Wear heavy shoes or rubber boots when applying.  Cutter instructions say to wet down the yard first, but I usually apply in the early AM when dew is still present. Avoid applying in windy conditions as you don\'t want this stuff blowing back on you.  Cutter says to not apply more than 14 treatments per year.<br /><br />The product is applied by using a sprayer, like Ortho, SCOTTS ORTHO DIAL N SPRAY HOSE END, and setting the dial to 1/2 oz./gallon.  Spray every single piece of greenery possible, as well as the sides of dwelling, window screens, etc.  The wider the perimeter, the better the control of mosquitoes.<br /><br />While there are risks in using any chemical, I apply the chemical carefully per instructions and avoid getting any on my body. The danger of West Nile Disease is significant in this area, and I\'d rather apply Cutter\'s Bug-Free Backyard than avoid going outside.<br /><br />konedog"
    >
    > "I bought this product for the first time 3 months ago.  I bought <a href="http://www.amazon.com/gp/product/B000E8WIAS">Sweet Leaf Vanilla Creme Flavored Liquid Stevia, 2-Ounce Bottle</a> 7 months ago.  My motive was to compare these products and see which one is best for me.<br /><br />I will try to be as detailed as possible.  So again I am evaluating "Now Foods: Better Stevia Original" and "Sweet Leaf: Liquid Stevia Vanilla Creme".<br /><br />At first, I expected Better Stevia to be what the packaging described, a better alternative to Stevia drinkers.  I expected it to be exactly what they advertised in its packaging:<br /><br />-Better tasting<br />-Just as healthy<br /><br />etc.<br /><br />To compare them, I alternated an average of 6 drops into my morning coffee everyday.<br /><br />==Taste Evaluation==<br /><br />After everyday usage of these two products and after testing them extensively; I see no -significant- difference between the two in taste.  Please do take into consideration that I did not test these by serving suggestion amount (see Suggested Serving below).<br /><br />==Ingredients==<br /><br />Now let\'s talk about the ingredients.  Both products claim to be made with natural ingredients.  "Now Foods Better Stevia Original" lists "water", "certified Organic Stevia extract" and "11% alcohol".  "Sweet Leaf: Liquid Stevia Vanilla Creme"  lists "natural flavors" apart from "Stevia extract".<br /><br />Sweet Leaf has quite an advantage, since it does not list alcohol as an ingredient.<br /><br />I wanted more evidence about ingredients.  I thought that Sweet Leaf was trying to pull as fast one, by passing alcohol as a "natural flavor"; like many companies have done.<br /><br />So I visited the Sweet Leaf website and found this: "SweetLeaf Stevia Sweetener does not use chemicals, alcohols, solvents or enzymes at any stage of the extraction and purification process."<br /><br />Bingo.  Sweet Leaf has -no alcohol-.<br /><br />==Suggested Serving and Packaging==<br /><br />"Now Foods Better Stevia Original" serving suggestion is 1 to 4 drops and has a split-open cap that it\'s very messy.  You can\'t count by drops, usually it spills to the body of the container.  It is very difficult to measure exactly how much you\'re administering.  I found that many times the bitterness was noticeable due to not knowing how much I was using.<br /><br />"Sweet Leaf: Liquid Stevia Vanilla Creme" serving suggestion is 5 to 8 drops and contains a dropper for easier administration of the product.  You can count exactly how many drops you\'re serving.  As long as you don\'t go beyond 7-8 drops; it should not be bitter at all.<br /><br />Final evaluation from 1 to 5.<br /><br />Taste:<br /><br />"Now Foods Better Stevia Original" = 5<br /><br />"Sweet Leaf: Liquid Stevia Vanilla Creme" = 5<br /><br />Ingredients:<br /><br />"Now Foods Better Stevia Original" = 4<br /><br />"Sweet Leaf: Liquid Stevia Vanilla Creme" = 5<br /><br />Suggested Serving and Packaging:<br /><br />"Now Foods Better Stevia Original" = 2<br /><br />"Sweet Leaf: Liquid Stevia Vanilla Creme" = 5<br /><br />All in all Sweet Leaf wins, for several reasons.  The packaging makes it very easy to serve the product properly. When I used the Sweet Leaf dropper with the Better Stevia I found that 4 drops weren\'t bitter.  But adding 8 drops of Better Stevia started to make my drink bitter.  So Better Stevia claims it tastes better, as long as you follow their serving suggestion.  Sweet Leaf tastes better otherwise.<br /><br />And to folks who really care about their alcohol intake for whatever reason; Sweet Leaf claims to have none.<br /><br />PS. Oh yeah just a quick note, when I ordered Better Stevia the "alcohol" was not mentioned on the title, now it is."

* **Interpretation:**
  *Long, very positive reviews often discussing solutions to specific problems (e.g., pest control, sweeteners), written by users with advanced use of the product.*

#### **Cluster 6**
* **Mean sentiment:** 0.61
* **Mean length:** 684.5
* **Mean Score:** 3.49
* **Size:** 868
* **Example reviews:**
    > "I have been ordering from this company on autoship- I will be so happy when the shipping is not as costly- This is by far the most amazing product-Pasta with NO and I mean NO calories- Rinse(the slight odor is NOT the noodle but the fermenting water- Place in microwave to "dry off" about 3 min. then make your favorite pasta dish- I am a SIZE 4 AND STAY THAT WAY BECAUSE OF THIS STUFF MY HUSBAND IS DIABETIC AND IS SOOoooHAPPY HE CAN HAVE "PASTA" DISHES all he wants and NO yes NO carbs- This product has changed our lives- really!!!!! My children have yet to realize they are not eating pasta!!!:) Maybe I\'ll tell them some day!!!"
    >
    > "I was not going to write a review but after getting 5 e-mails requesting that I do I figured what the heck.<br />I was very excited to find this product online and couldnt wait to get mine in the mail..... Until it came.<br />When I opened the box I find that 3 of the cans were CUT open. Not accross the top but across the side so I know that I didnt do it when I opened the box. I love the drink but I am really upset at the fact that I only got to enjoy 9 cans instead of the 12 that I had ordered. I dont believe I will be ordering anymore. I will just wait till a local store gets them so that I know what I am getting.<br />Peace, Love And Joy!"

* **Interpretation:**
  *Short-to-medium positive reviews, often about effective product outcomes, recurring purchases, or quick takes on shipping/quality.*

### Within-cluster Variation (Compactness of Clusters)

* Cluster breakdown (lower = more similar reviews):
    - Cluster 0: 72156.72
    - Cluster 1: 210684.88
    - Cluster 2: 210430.50
    - Cluster 3: 25137.20
    - Cluster 4: 1230354.71
    - Cluster 5: 714881.87
    - Cluster 6: 37234.09
* **Total across all clusters:** 2500879.97

## Discussion & Critical Analysis

* **Cluster quality:**
  The clusters show meaningful differentiation, by review length and sentiment, mirrored in average product scores. The largest cluster (3) contains typical, moderately positive reviews; smaller clusters capture uniquely long or extremely positive/negative reviews.
* **Interpretability:**
  Sample reviews per cluster make sense as distinctive groupings. Most clusters gather reviews of similar tone, length, and "style."
* **Outlier clusters (like clusters 1 and 4) mostly capture unusually long reviews**
* **For further exploration, it might be useful:**
  - Using more features (TF-IDF, more product or user info).
  - Applying hierarchical clustering to compare results.

## Conclusion

K-means clustering of Amazon Fine Food Reviews using sentiment and review length reveals interpretable subgroups in reviewer behavior and feedback styles.

While some clusters are driven by outlier lengths, the method consistently identifies key review types, from concise and average to long, in-depth, and highly positive or negative. These findings can inform strategies for targeted customer engagement.

**Metrics for best run:**
* **Silhouette score:** 0.5792
* **Total within-cluster variation:** 2500879.9723
